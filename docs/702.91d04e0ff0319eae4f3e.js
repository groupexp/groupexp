(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[702,332],{4702:(e,t,r)=>{"use strict";r.r(t),r.d(t,{PerfilModule:()=>b});var a=r(8583),n=r(4655),i=r(4738),s=r(3679),o=r(6332),c=r(7716),u=r(6324),d=r(3071),l=r(8060),m=r(3738),p=r(8295),g=r(9983),h=r(1095),f=r(6627);let v=(()=>{class e{constructor(e,t,r,a,n,i){this.route=e,this.router=t,this.fb=r,this.snackService=a,this.userService=n,this.authService=i}ngOnInit(){this.user=this.route.snapshot.data[o.p.USUARIO].user,this.profileForm=this.fb.group({name:[this.user.name,s.kI.required],surname:[this.user.surname,s.kI.required]})}saveChanges(){this.user.name=this.profileForm.value.name,this.user.surname=this.profileForm.value.surname,this.userService.update(this.route.snapshot.params.id,this.user).subscribe(()=>{this.snackService.openSnackBar("\xa1Usuario actualizado con \xe9xito!",!0),this.authService.getLoggedUserName(),this.router.navigate(["/perfil/ver",this.route.snapshot.params.id])})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(n.gz),c.Y36(n.F0),c.Y36(s.qu),c.Y36(u.c),c.Y36(d.K),c.Y36(l.e))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-edit"]],decls:21,vars:1,consts:[[1,"main-div","padding-2"],[1,"example-card"],[3,"formGroup","ngSubmit"],["autocomplete","off","matInput","","formControlName","name"],["autocomplete","off","matInput","","formControlName","surname"],["mat-raised-button","","type","button","color","accent"],["type","submit","mat-raised-button","",1,"btn-primary"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div"),c.TgZ(2,"mat-card",1),c.TgZ(3,"form",2),c.NdJ("ngSubmit",function(){return t.saveChanges()}),c.TgZ(4,"mat-form-field"),c.TgZ(5,"mat-label"),c._uU(6,"Nombre"),c.qZA(),c._UZ(7,"input",3),c.qZA(),c.TgZ(8,"mat-form-field"),c.TgZ(9,"mat-label"),c._uU(10,"Apellido"),c.qZA(),c._UZ(11,"input",4),c.qZA(),c.TgZ(12,"mat-card-actions"),c.TgZ(13,"button",5),c.TgZ(14,"mat-icon"),c._uU(15,"undo"),c.qZA(),c._uU(16," Cancelar "),c.qZA(),c.TgZ(17,"button",6),c.TgZ(18,"mat-icon"),c._uU(19,"save"),c.qZA(),c._uU(20," Guardar cambios "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Q6J("formGroup",t.profileForm))},directives:[m.a8,s._Y,s.JL,s.sg,p.KE,p.hX,g.Nt,s.Fj,s.JJ,s.u,m.hq,h.lW,f.Hw],styles:["input[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:20vw}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;align-items:flex-end}.main-div[_ngcontent-%COMP%]{padding:20px;width:100vw;height:70vh;align-content:flex-start}.example-card[_ngcontent-%COMP%], .main-div[_ngcontent-%COMP%]{display:flex;justify-content:center}.example-card[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:wrap;align-content:center;width:30vw;height:35vh;align-items:flex-end}@media only screen and (max-width: 768px) and (max-height: 882px){.example-card[_ngcontent-%COMP%]{max-width:100vw;width:90vw;height:50vh;display:flex;align-content:center;justify-content:center;flex-wrap:wrap}mat-form-field[_ngcontent-%COMP%]{width:70vw}}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}"]}),e})();var Z=r(1436);const x=[{path:"ver/:id",component:(()=>{class e{constructor(e,t){this.route=e,this.router=t}ngOnInit(){this.user=this.route.snapshot.data[o.p.USUARIO].user}editarPerfil(){this.router.navigate(["/perfil/editar",this.route.snapshot.params.id])}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(n.gz),c.Y36(n.F0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-view"]],decls:15,vars:3,consts:[[1,"main-div","padding-2"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["matTooltip","Editar perfil","mat-button","","mat-raised-button","",1,"btn-primary",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div"),c.TgZ(2,"mat-card",1),c.TgZ(3,"mat-card-header"),c._UZ(4,"div",2),c.TgZ(5,"mat-card-title"),c._uU(6),c.qZA(),c.TgZ(7,"mat-card-subtitle"),c._uU(8),c.qZA(),c.qZA(),c.TgZ(9,"mat-card-content"),c._UZ(10,"p"),c.qZA(),c.TgZ(11,"mat-card-actions"),c.TgZ(12,"button",3),c.NdJ("click",function(){return t.editarPerfil()}),c.TgZ(13,"mat-icon"),c._uU(14,"edit"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(6),c.AsE("",t.user.name," ",t.user.surname,""),c.xp6(2),c.Oqu(t.user.email))},directives:[m.a8,m.dk,m.kc,m.n5,m.$j,m.dn,m.hq,h.lW,Z.gM,f.Hw],styles:[".main-div[_ngcontent-%COMP%]{padding:20px;width:100vw;justify-content:center}.example-card[_ngcontent-%COMP%], .main-div[_ngcontent-%COMP%]{display:flex;height:70vh;align-content:flex-start}.example-card[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;width:90vw;justify-content:space-between}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}"]}),e})(),resolve:{UserResolver:i.O}},{path:"editar/:id",component:v,resolve:{UserResolver:i.O}}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[n.Bz.forChild(x)],n.Bz]}),e})();var A=r(4872);let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[a.ez,w,A.q,s.u5,s.UX]]}),e})()},6332:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var a=(()=>(function(e){e.MEDIOS_MOVILIDAD="MediosMovilidadResolver",e.USUARIO="UserResolver",e.USUARIOS="UsersResolver",e.CONTACTOS="ContactsResolver",e.ACTIVIDAD="ActivityResolver"}(a||(a={})),a))()},4738:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});var a=r(7716),n=r(3071),i=r(8060);let s=(()=>{class e{constructor(e,t){this.userService=e,this.authService=t}resolve(e,t){const r=this.authService.getUserId();return this.userService.getUser(r)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(n.K),a.LFG(i.e))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);