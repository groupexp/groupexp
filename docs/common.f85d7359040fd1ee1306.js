(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[592],{226:(t,e,i)=>{"use strict";i.d(e,{Z:()=>Z});var n=i(5917),o=(()=>(function(t){t["Autom\xf3vil"]="directions_car",t.Bicicleta="directions_bike",t["A pie"]="directions_walk",t.Correr="directions_run",t.Motocicleta="two_wheeler"}(o||(o={})),o))(),a=i(7716),c=i(3224),r=i(4655),s=i(7556),l=i(8583),u=i(3738),d=i(6627),p=i(1095);function m(t,e){1&t&&(a.TgZ(0,"div",2),a.TgZ(1,"h1"),a._uU(2,"Ups, no hay actividades disponibles"),a.qZA(),a.TgZ(3,"h2"),a.TgZ(4,"a",3),a._uU(5,"Organicemos una!"),a.qZA(),a.qZA(),a.qZA())}function g(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){a.CHM(t);const e=a.oxw().$implicit;return a.oxw().navigate(e.uid)}),a.TgZ(1,"mat-icon"),a._uU(2),a.qZA(),a._uU(3),a.qZA()}if(2&t){const t=a.oxw().$implicit,e=a.oxw();a.Q6J("disabled",t.participants.includes(e.loggedUserName)),a.xp6(2),a.Oqu(t.participants.includes(e.loggedUserName)?"check":"add"),a.xp6(1),a.hij(" ",t.participants.includes(e.loggedUserName)?"Participando":"Participar"," ")}}function h(t,e){1&t&&(a.TgZ(0,"button",10),a.TgZ(1,"mat-icon"),a._uU(2,"edit"),a.qZA(),a._uU(3," Editar "),a.qZA())}function f(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"mat-card",4),a.NdJ("click",function(){const e=a.CHM(t).$implicit;return a.oxw().navigate(e.uid)}),a.TgZ(1,"mat-card-header"),a.TgZ(2,"mat-card-title"),a.TgZ(3,"mat-icon"),a._uU(4),a.qZA(),a._uU(5),a.qZA(),a.TgZ(6,"mat-card-subtitle"),a.TgZ(7,"mat-icon"),a._uU(8,"person"),a.qZA(),a._uU(9),a.qZA(),a.TgZ(10,"mat-card-subtitle",5),a.TgZ(11,"div",6),a.TgZ(12,"mat-icon"),a._uU(13,"event"),a.qZA(),a._uU(14),a.ALo(15,"date"),a.qZA(),a.TgZ(16,"div",6),a.TgZ(17,"mat-icon"),a._uU(18,"schedule"),a.qZA(),a._uU(19),a.qZA(),a.qZA(),a._UZ(20,"mat-card-subtitle"),a.qZA(),a.TgZ(21,"mat-card-content"),a._uU(22),a.qZA(),a.TgZ(23,"mat-card-actions"),a.YNc(24,g,4,3,"button",7),a.YNc(25,h,4,0,"button",8),a.qZA(),a.qZA()}if(2&t){const t=e.$implicit,i=a.oxw();a.xp6(4),a.Oqu(i.ICONS[t.meanOfTransportation.toString()]),a.xp6(1),a.hij(" ",t.title," "),a.xp6(4),a.hij(" ",t.creators," "),a.xp6(5),a.hij(" ",a.lcZ(15,8,t.startDate)," "),a.xp6(5),a.hij(" ",t.startTime," "),a.xp6(3),a.hij(" ",t.description," "),a.xp6(2),a.Q6J("ngIf",!t.creators.includes(i.loggedUserName)),a.xp6(1),a.Q6J("ngIf",t.creators.includes(i.loggedUserName))}}let Z=(()=>{class t{constructor(t,e,i){this.activitiesService=t,this.router=e,this.authService=i,this.ICONS=o,this.activitiesLoaded$=(0,n.of)(!0),this.loggedUserName=i.getLoggedUser()}ngOnInit(){this._activitiesSubscription=this.activitiesService.getAll().subscribe(t=>{this.activities=t,this.activitiesLoaded$=(0,n.of)(0===t.length)})}ngOnDestroy(){this._activitiesSubscription.unsubscribe()}navigate(t){this.router.navigate(["actividad/ver",t])}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(c._),a.Y36(r.F0),a.Y36(s.e))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-participar"]],decls:3,vars:4,consts:[["class","m-5",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[1,"m-5"],["routerLink","/actividad/organizar"],[3,"click"],[1,"when"],[1,"icon-time"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary"]],template:function(t,e){1&t&&(a.YNc(0,m,6,0,"div",0),a.ALo(1,"async"),a.YNc(2,f,26,10,"mat-card",1)),2&t&&(a.Q6J("ngIf",a.lcZ(1,2,e.activitiesLoaded$)),a.xp6(2),a.Q6J("ngForOf",e.activities))},directives:[l.O5,l.sg,r.yS,u.a8,u.dk,u.n5,d.Hw,u.$j,u.dn,u.hq,p.lW],pipes:[l.Ov,l.uU],styles:["mat-card[_ngcontent-%COMP%]{margin:2vw}mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}mat-card-subtitle.when[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.icon-time[_ngcontent-%COMP%]{align-content:space-around}.empty[_ngcontent-%COMP%], .icon-time[_ngcontent-%COMP%]{display:flex;align-items:center}.empty[_ngcontent-%COMP%]{flex-direction:column}"]}),t})()},982:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ContactosModule:()=>I});var n=i(8583),o=i(2341),a=i(3679),c=i(4655),r=i(7716),s=i(7556),l=i(1841);let u=(()=>{class t{constructor(t){this.http=t,this._controllerName="users"}get(t){return this.http.get(`${this._controllerName}/${t}/contacts`)}add(t,e){return this.http.post(`${this._controllerName}/${t}/contacts`,{email:e})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(l.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),d=(()=>{class t{constructor(t,e){this.authService=t,this.contactosService=e}resolve(t,e){const i=this.authService.getUserId();return this.contactosService.get(i)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s.e),r.LFG(u))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=i(3071);let m=(()=>{class t{constructor(t){this.usuariosService=t}resolve(t,e){return this.usuariosService.getAll()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(p.K))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=i(9761),h=i(8002),f=i(6332),Z=i(3738),v=i(8295),_=i(9983),A=i(1554),C=i(1095),b=i(6627),x=i(2789),T=i(2458),U=i(1436);function q(t,e){if(1&t&&(r.TgZ(0,"mat-option",16),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.Q6J("value",t.email),r.xp6(1),r.AsE(" ",t.name," ",t.surname," ")}}function w(t,e){1&t&&r._UZ(0,"th",17)}function y(t,e){if(1&t&&(r.TgZ(0,"td",18),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.AsE(" ",t.name," ",t.surname,"")}}function O(t,e){1&t&&r._UZ(0,"th",17)}function N(t,e){1&t&&(r.TgZ(0,"td",19),r.TgZ(1,"button",20),r.TgZ(2,"mat-icon"),r._uU(3,"edit"),r.qZA(),r.qZA(),r.TgZ(4,"button",21),r.TgZ(5,"mat-icon"),r._uU(6,"visibility"),r.qZA(),r.qZA(),r.TgZ(7,"button",22),r.TgZ(8,"mat-icon"),r._uU(9,"delete"),r.qZA(),r.qZA(),r.qZA())}function S(t,e){1&t&&r._UZ(0,"tr",23)}const k=[{path:"contactos",component:(()=>{class t{constructor(t,e,i){this.route=t,this.contactosService=e,this.authService=i,this.displayedColumns=["nombreApellido","acciones"],this.myControl=new a.NI}ngOnInit(){this._userId=this.route.snapshot.params.id,this.users=this.route.snapshot.data[f.p.USUARIOS].users,this.contacts=this.route.snapshot.data[f.p.CONTACTOS].contacts.filter(t=>null!==t),this.filteredOptions=this.myControl.valueChanges.pipe((0,g.O)(""),(0,h.U)(t=>this._filter(t)))}_filter(t){const e=t.toLowerCase();return this.users.filter(t=>t.name.toLowerCase().includes(e))}onSelectionChange(t){this.selectedOption=t.option.value}agregarContacto(){this.contactosService.add(this.authService.getUserId(),this.selectedOption).subscribe(()=>{this.getContacts()})}getContacts(){this.contactosService.get(this._userId).subscribe(t=>this.contacts=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c.gz),r.Y36(u),r.Y36(s.e))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-agregar"]],decls:25,vars:7,consts:[[1,"row","justify-content-center","padding-top-15","padding-left-50","example-card","padding-bottom"],[1,"example-card"],[1,"example-form"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","placeholder","Nombre",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","button","mat-icon-button","",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","nombreApellido"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","acciones"],["mat-cell","","class","header-align-right",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"header-align-right"],["matTooltip","Editar","mat-icon-button",""],["matTooltip","Ver","mat-icon-button",""],["matTooltip","Eliminar","mat-icon-button",""],["mat-row",""]],template:function(t,e){if(1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h1"),r._uU(2,"Agregar contacto"),r.qZA(),r.TgZ(3,"mat-card",1),r.TgZ(4,"form",2),r.TgZ(5,"mat-form-field",3),r._UZ(6,"input",4),r.TgZ(7,"mat-autocomplete",5,6),r.NdJ("optionSelected",function(t){return e.onSelectionChange(t)}),r.YNc(9,q,2,3,"mat-option",7),r.ALo(10,"async"),r.qZA(),r.qZA(),r.TgZ(11,"button",8),r.NdJ("click",function(){return e.agregarContacto()}),r.TgZ(12,"mat-icon"),r._uU(13,"add"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"h2"),r._uU(15,"Mis contactos"),r.qZA(),r.TgZ(16,"mat-card",1),r.TgZ(17,"table",9),r.ynx(18,10),r.YNc(19,w,1,0,"th",11),r.YNc(20,y,2,2,"td",12),r.BQk(),r.ynx(21,13),r.YNc(22,O,1,0,"th",11),r.YNc(23,N,10,0,"td",14),r.BQk(),r.YNc(24,S,1,0,"tr",15),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.MAs(8);r.xp6(6),r.Q6J("formControl",e.myControl)("matAutocomplete",t),r.xp6(3),r.Q6J("ngForOf",r.lcZ(10,5,e.filteredOptions)),r.xp6(8),r.Q6J("dataSource",e.contacts),r.xp6(7),r.Q6J("matRowDefColumns",e.displayedColumns)}},directives:[Z.a8,a._Y,a.JL,v.KE,_.Nt,a.Fj,A.ZL,a.JJ,a.oH,A.XC,n.sg,C.lW,b.Hw,x.BZ,x.w1,x.fO,x.Dz,x.nj,T.ey,x.ge,x.ev,U.gM,x.Gk],pipes:[n.Ov],styles:["table[_ngcontent-%COMP%]{width:100%}.header-align-right[_ngcontent-%COMP%]{display:flex;padding:21px 0;justify-content:flex-end}.example-card[_ngcontent-%COMP%]{max-width:90vw}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:4vh}@media only screen and (max-width: 768px) and (max-height: 882px){table[_ngcontent-%COMP%]{width:80vw}.header-align-right[_ngcontent-%COMP%]{display:flex;padding:21px 0;justify-content:flex-end}.example-card[_ngcontent-%COMP%]{width:100vw}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:4vh}}"]}),t})(),resolve:{ContactsResolver:d,UsersResolver:m}}];let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[c.Bz.forChild(k)],c.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez,M,o.q,a.UX]]}),t})()},3224:(t,e,i)=>{"use strict";i.d(e,{_:()=>c});var n=i(8002),o=i(7716),a=i(1841);let c=(()=>{class t{constructor(t){this.httpClient=t,this._controllerName="activities"}getAll(){return this.httpClient.get(this._controllerName).pipe((0,n.U)(t=>t.activities))}get(t){return this.httpClient.get(`${this._controllerName}/${t}`)}save(t){return this.httpClient.post(`${this._controllerName}`,t).pipe((0,n.U)(t=>t.title))}update(t){return this.httpClient.patch(`${this._controllerName}/${t.uid}`,t)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(a.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);